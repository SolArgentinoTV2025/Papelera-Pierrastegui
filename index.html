<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Papelera Pierrastegui</title>
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="assets/css/inicio.css">
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
      import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyD9T9Y34jeQUtscNdjn-aZ54B4kEisNk3c",
        authDomain: "papelera-pie.firebaseapp.com",
        projectId: "papelera-pie",
        storageBucket: "papelera-pie.firebasestorage.app",
        messagingSenderId: "407925272882",
        appId: "1:407925272882:web:4ce4347c5cba2e95b4a72b",
        measurementId: "G-YXB9F6CTN0"
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth();

      document.addEventListener("DOMContentLoaded", () => {
        onAuthStateChanged(auth, (user) => {
          const authButtons = document.getElementById("auth-buttons");
          const userMenu = document.getElementById("user-menu");

          if (user) {
            document.getElementById("user-name").textContent = user.displayName || "Usuario";
            authButtons.style.display = "none"; // Ocultar botones de login y registro
            userMenu.style.display = "block";   // Mostrar men√∫ de usuario
          } else {
            authButtons.style.display = "block"; // Mostrar botones de login y registro
            userMenu.style.display = "none";     // Ocultar men√∫ de usuario
          }
        });

        document.getElementById("logout").addEventListener("click", () => {
          signOut(auth).then(() => {
            window.location.href = "index.html"; // Recargar la p√°gina tras cerrar sesi√≥n
          }).catch((error) => {
            alert("Error al cerrar sesi√≥n: " + error.message);
          });
        });
      });
    </script>
</head>
<body>
    <header>
        <h1>Papelera Pierrastegui</h1>
        <nav>
            <ul>
                <li><a href="#">Inicio</a></li>
                <li><a href="#">Cat√°logo</a></li>
                <li><a href="#">Contacto</a></li>
            </ul>
        </nav>
        <div id="auth-buttons">
            <button class="logreg" onclick="window.location.href='logueo.html'">Iniciar sesi√≥n</button>
            <button class="logreg reg" onclick="window.location.href='registro.html'">Registrarse</button>
        </div>
        <div id="user-menu" style="display:none;">
            <div class="user-icon" onclick="toggleMenu()">
                üë§ <span id="user-name"></span>
            </div>
            <div class="user-dropdown" id="user-dropdown">
                <a href="#">Opciones</a>
                <button id="logout">Cerrar sesi√≥n</button>
            </div>
        </div>
        <div class="mpavisoext"><span class="mpaviso">√öNICO MEDIO DE PAGO: MercadoPago</span> <a class="infomdp" href="info/mediodepago">Mas Informaci√≥n</a></div>
    </header>
<!-- Men√∫ de categor√≠as como un dropdown debajo del header -->
<div class="dropdown-container">
  <button class="dropdown-btn" id="dropdown-btn">Categor√≠as ‚ñº</button>
  <div class="dropdown-content" id="dropdown-menu">
      <a onclick="filtrarCategoria('arranques')">Arranques</a>
      <a onclick="filtrarCategoria('bandejas')">Bandejas</a>
      <a onclick="filtrarCategoria('blondas')">Blondas</a>
      <a onclick="filtrarCategoria('bolsas')">Bolsas</a>
      <a onclick="filtrarCategoria('cajas')">Cajas</a>
      <a onclick="filtrarCategoria('carton')">Cart√≥n</a>
      <a onclick="filtrarCategoria('cintas')">Cintas</a>
      <a onclick="filtrarCategoria('cubiertos')">Cubiertos</a>
      <a onclick="filtrarCategoria('film')">Film</a>
      <a onclick="filtrarCategoria('folex')">Folex</a>
      <a onclick="filtrarCategoria('guantes')">Guantes</a>
      <a onclick="filtrarCategoria('libreria')">Librer√≠a</a>
      <a onclick="filtrarCategoria('papel')">Papel</a>
      <a onclick="filtrarCategoria('pizzeria')">Pizzer√≠a</a>
      <a onclick="filtrarCategoria('potes')">Potes</a>
      <a onclick="filtrarCategoria('rollostermicos')">Rollos T√©rmicos</a>
      <a onclick="filtrarCategoria('sorbetes')">Sorbetes</a>
      <a onclick="filtrarCategoria('vasos')">Vasos</a>
  </div>
</div>
    <main>
        <section id="catalogo">
            <h2>Cat√°logo de Productos</h2>
            <div class="productos">
                <!-- Productos aqu√≠ -->
            </div>
        </section>
    </main>
    <footer>
        <p>2025 ¬© Papelera Pierrastegui</p>
        <p>2025 ¬© Sol Argentino TV | Creado por los desarrolladores de Sol Argentino TV</p>
    </footer>
    <script src="assets/js/inicio.js"></script>
    <script>
        function toggleMenu() {
            const dropdown = document.getElementById("user-dropdown");
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }
    </script>

<script>
  const dropdownBtn = document.getElementById("dropdown-btn");
  const dropdownMenu = document.getElementById("dropdown-menu");

  // Funci√≥n para alternar el men√∫
  function toggleDropdown(event) {
      event.stopPropagation(); // Evita que el click se propague al documento
      dropdownMenu.style.display = (dropdownMenu.style.display === "block") ? "none" : "block";
  }

  dropdownBtn.addEventListener("click", toggleDropdown);

  // Cerrar el dropdown al hacer click fuera de √©l
  document.addEventListener("click", function(event) {
      if (!dropdownBtn.contains(event.target) && !dropdownMenu.contains(event.target)) {
          dropdownMenu.style.display = "none";
      }
  });

  function filtrarCategoria(categoria) {
      console.log("Cargar productos de la categor√≠a:", categoria);
      dropdownMenu.style.display = "none"; // Cierra el dropdown al seleccionar una categor√≠a
  }
</script>
</body>
</html>